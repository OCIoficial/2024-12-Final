\documentclass{oci}
\usepackage[utf8]{inputenc}
\usepackage{lipsum}
\usepackage{tikz}
\usepackage[dvipsnames]{xcolor}

\title{Cine}

\begin{document}
\begin{problemDescription}
    Pedro y sus $K$ amigos llegaron tarde a la reproducción de la película en el cine y descubrieron que varios asientos ya están ocupados. Sin embargo, a Pedro le gustaría que él y sus amigos pudieran sentarse juntos para disfrutar de la película.

    La sala de cine se representa como una matriz de números de tamaño $N \cdot M$, donde los asientos disponibles se marcan con un 0 y los ocupados con un 1. Pedro quiere encontrar una configuración de asientos para él y sus $K$ amigos de modo la distancia entre Pedro y su amigo más lejano sea la mínima posible.

    \newcommand{\cine}{
        % Row 1: 0 1 1 1
        \fill[black] (1,3) rectangle (2,4);
        \fill[black] (2,3) rectangle (3,4);
        \fill[black] (3,3) rectangle (4,4);

        % Row 2: 1 0 0 1
        \fill[black] (0,2) rectangle (1,3);
        \fill[black] (3,2) rectangle (4,3);

        % Row 3: 1 1 1 0
        \fill[black] (0,1) rectangle (1,2);
        \fill[black] (1,1) rectangle (2,2);
        \fill[black] (2,1) rectangle (3,2);

        % Row 4: 0 0 1 0
        \fill[black] (2,0) rectangle (3,1);

        \draw (0,0) grid (4,4);
    }
    \begin{figure}[h]
        \centering
        \begin{tikzpicture}
            \cine
        \end{tikzpicture}
        \caption{Ejemplo de un Cine de dimensiones $4 \times 4$.}
    \end{figure}

    La distancia entre Pedro y el $i$-ésimo amigo se define como $\max(|x_p - x_i|, |y_p - y_i|)$, donde $(x_p, y_p)$ representa la posición de Pedro en la matriz y $(x_i, y_i)$ la posición del $i$-ésimo amigo.

    \begin{figure}[h]
        \centering
        \begin{tikzpicture}
            \definecolor{pedro}{HTML}{FE5F55}
            \definecolor{amigo}{HTML}{5995ED}

            \fill[amigo] (1,2) rectangle (2,3);
            \fill[pedro] (2,2) rectangle (3,3);
            \fill[amigo] (3,1) rectangle (4,2);
            \fill[amigo] (3,0) rectangle (4,1);
            \cine
        \end{tikzpicture}
        \caption{Una posible asignación optima para el Cine anterior si Pedro tiene $K=3$ amigos.}
    \end{figure}

    Tu tarea es encontrar la distancia entre Pedro y su amigo más lejano, teniendo en cuenta que el puede elegir su propio asiento y la de sus $K$ amigos entre los asientos disponibles.

\end{problemDescription}

\begin{inputDescription}
La primera línea contiene tres enteros $N$, $M$ y $K$ ($1 \leq N \cdot M \leq 10^6$, $1 \leq K \leq N \cdot M - 1$) que representan las dimensiones de la sala de cine y la cantidad de amigos que tiene Pedro, respectivamente.

Las siguientes $N$ líneas contienen $M$ enteros $A_{i,j}$ $(0 \leq A_{i,j} \leq 1)$, donde $0$ indica que el asiento está disponible y $1$ que está ocupado.

Se asegura que la cantidad de ceros en la matriz es mayor o igual a $K+1$.
\end{inputDescription}

\begin{outputDescription}
Un único número entero: la distancia mínima posible entre Pedro y su amigo más lejano en la mejor disposición encontrada.
\end{outputDescription}

\begin{scoreDescription}
  \subtask{20} Se probarán varios casos de prueba donde $N \cdot M \leq 5000$.
  \subtask{30} Se probarán varios casos de prueba donde $N = 1$.
  \subtask{50} Se probarán varios casos de prueba sin restricciones adicionales.
\end{scoreDescription}

\begin{sampleDescription}
\sampleIO{sample-1}
\end{sampleDescription}

\end{document}
